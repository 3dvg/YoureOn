@model WebApplication1.Models.Usuario
@using YoureOnGenNHibernate.EN.YoureOn;

<div>

    <h2>@Html.DisplayFor(model => model.Nombre) @Html.DisplayFor(model => model.Apellidos) - @Html.DisplayFor(model => model.NIF)</h2>

    @{ // 3 leves o 1 grave
        if ((ViewBag.Leve == 3) || (ViewBag.Grave))
        {
            @Html.ActionLink("Eliminar perfil", "BorrarPerfil", new { email = ViewBag.Email })
        }
    }
    <br />
    <p>Total leves: @ViewBag.Leve</p>
    <p>Tiene grave: @ViewBag.Grave</p>

    <p>Añadir falta @Html.DropDownList("faltas", ViewData["faltas"] as SelectList) @Html.ActionLink("Añadir", "Create", new { id = ViewData["faltas"] })</p>

    @{
        if (!ViewBag.Grave)
        {
            <table class="table">
                <tr>
                    <th>Fecha</th>
                    <th>Tipo</th>
                    <th></th>
                    <th></th>
                </tr>
                @{
                    foreach (FaltaEN f in ViewBag.ListaF)
                    {
                        <tr>
                            <td>@f.Fecha</td>
                            <td>@f.TipoFalta</td>
                            <td>
                                @Html.ActionLink("Eliminar falta", "Delete", new { id = @f.Id_falta })
                            </td>
                        </tr>
                    }
                }
            </table>
        }
    }

</div>